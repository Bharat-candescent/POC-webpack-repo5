"use strict";(self.webpackChunkcredit_card_mfe=self.webpackChunkcredit_card_mfe||[]).push([[654],{654:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var r=t(769),a=t.n(r),o=t(83),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i=(e,n)=>{const t=(0,r.forwardRef)(({color:t="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:c,...m},d)=>{return(0,r.createElement)("svg",{ref:d,...l,width:a,height:a,stroke:t,strokeWidth:i?24*Number(o)/Number(a):o,className:`lucide lucide-${s=e,s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...m},[...n.map(([e,n])=>(0,r.createElement)(e,n)),...(Array.isArray(c)?c:[c])||[]]);var s});return t.displayName=`${e}`,t},c=i("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]),m=i("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),d=i("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,l,i=[],c=!0,m=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(i.push(r.value),i.length!==n);c=!0);}catch(e){m=!0,a=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(m)throw a}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const f=function(){var e=(0,o.useDispatch)(),n=(0,o.useSelector)(function(e){return e.banking.cards}),t=(0,o.useSelector)(function(e){return e.banking.selectedCardId}),l=s((0,r.useState)(500),2),i=l[0],u=l[1],f=s((0,r.useState)(!0),2),b=f[0],p=f[1];(0,r.useEffect)(function(){var e=setTimeout(function(){return p(!1)},500);return function(){return clearTimeout(e)}},[]);var h=n.find(function(e){return e.id===t});return a().createElement(a().Fragment,null,a().createElement("style",null,"\n            .ob-mfe-container {\n                background-color: #fff;\n                padding: 1.5rem;\n                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n                border-radius: 0.75rem;\n                border: 1px solid #fef3c7; /* yellow-100 */\n                flex: 1;\n                min-width: 300px;\n                height: 100%;\n            }\n            .mfe-title {\n                font-size: 1.25rem;\n                font-weight: 700;\n                color: #b45309; /* amber-800 */\n                margin-bottom: 1rem;\n                display: flex;\n                align-items: center;\n            }\n            .mfe-icon {\n                width: 1.25rem;\n                height: 1.25rem;\n                margin-right: 0.5rem;\n                color: #f59e0b; /* amber-500 */\n            }\n            .mfe-info {\n                font-size: 0.875rem;\n                color: #6b7280;\n                margin-bottom: 1rem;\n            }\n            .loading-state {\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                height: 12rem;\n            }\n            .loading-spinner {\n                width: 2rem;\n                height: 2rem;\n                animation: spin 1s linear infinite;\n                color: #f59e0b;\n            }\n            @keyframes spin {\n                from { transform: rotate(0deg); }\n                to { transform: rotate(360deg); }\n            }\n            .data-card {\n                padding: 1rem;\n                border-radius: 0.5rem;\n                margin-bottom: 1rem;\n                background-color: #fefce8; /* yellow-50 */\n                border: 1px solid #fcd34d; /* amber-300 */\n            }\n            .data-label {\n                font-size: 0.875rem;\n                color: #4b5563;\n                margin-bottom: 0.25rem;\n            }\n            .data-value {\n                font-size: 1.5rem;\n                font-weight: 700;\n                color: #b45309;\n                display: flex;\n                align-items: center;\n            }\n            .data-icon {\n                width: 1.25rem;\n                height: 1.25rem;\n                margin-right: 0.5rem;\n            }\n            .form-group {\n                margin-top: 1.5rem;\n                padding-top: 1.5rem;\n                border-top: 1px solid #fef08a; /* yellow-200 */\n            }\n            .form-label {\n                font-size: 1rem;\n                font-weight: 600;\n                color: #b45309;\n                margin-bottom: 0.5rem;\n                display: block;\n            }\n            .input-field {\n                width: 100%;\n                padding: 0.75rem;\n                border: 1px solid #fcd34d;\n                border-radius: 0.375rem;\n                margin-bottom: 1rem;\n                font-size: 1rem;\n            }\n            .pay-button {\n                width: 100%;\n                padding: 0.75rem;\n                background-color: #f59e0b; /* amber-500 */\n                color: white;\n                font-weight: 700;\n                border-radius: 0.5rem;\n                transition: background-color 0.3s;\n                cursor: pointer;\n            }\n            .pay-button:hover {\n                background-color: #d97706; /* amber-600 */\n            }\n            .pay-button:disabled {\n                background-color: #fcd34d; /* amber-300 */\n                cursor: not-allowed;\n            }\n            .no-card-info {\n                color: #9ca3af;\n                text-align: center;\n                margin-top: 2rem;\n            }\n            "),a().createElement("div",{className:"ob-mfe-container"},a().createElement("h2",{className:"mfe-title"},a().createElement(c,{className:"mfe-icon",size:20}),"Online Banking MFE (Remote App)"),a().createElement("p",{className:"mfe-info"},"**READ/WRITE:** Reads selected card state and dispatches payment action to the shared store."),b?a().createElement("div",{className:"loading-state"},a().createElement(m,{className:"loading-spinner",size:32})):a().createElement(a().Fragment,null,a().createElement("div",{className:"data-card"},a().createElement("div",{className:"data-label"},"Card Selected in Remote A:"),a().createElement("div",{className:"data-value"},a().createElement(d,{className:"data-icon"}),h?h.name:"None Selected")),h&&a().createElement(a().Fragment,null,a().createElement("div",{className:"data-card"},a().createElement("div",{className:"data-label"},"Current Balance:"),a().createElement("div",{className:"data-value"},"$",h.balance.toFixed(2))),a().createElement("div",{className:"form-group"},a().createElement("label",{className:"form-label"},"Payment Amount"),a().createElement("input",{type:"number",value:i,onChange:function(e){return u(parseFloat(e.target.value)||0)},className:"input-field",min:"1",max:h.balance}),a().createElement("button",{onClick:function(){h&&i>0&&i<=h.balance?(e({type:"APPLY_PAYMENT",payload:{cardId:t,amount:i}}),u(0),alert("Payment applied successfully to the shared store!")):h?alert("Payment failed. Payment amount must be between $1 and $".concat(h.balance.toFixed(2),".")):alert("Please select a credit card first in the Credit Card MFE.")},className:"pay-button",disabled:i<=0||i>h.balance},"Apply Payment"),a().createElement("p",{className:"mfe-info",style:{marginTop:"0.5rem"}},"*Payment will update the shared balance for all apps."))),!h&&a().createElement("div",{className:"no-card-info"},a().createElement("p",null,"Please select a credit card in the panel on the left.")))))}}}]);